window.__require=function e(t,i,n){function c(o,r){if(!i[o]){if(!t[o]){var h=o.split("/");if(h=h[h.length-1],!t[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+o+"'")}o=h}var l=i[o]={exports:{}};t[o][0].call(l.exports,function(e){return c(t[o][1][e]||e)},l,l.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)c(n[o]);return c}({lyFightEnd:[function(e,t,i){"use strict";cc._RF.push(t,"9dac2+LAadFQaSvmfzh5VMd","lyFightEnd"),cc.Class({extends:cc.Component,properties:{title:cc.Label,content:cc.Label,btn1:cc.Node,btn2:cc.Node,btnTxt1:cc.Label,btnTxt2:cc.Label},init:function(e){var t=this;this.title.string=""+e.title,this.content.string=e.content,this.btnTxt1.string=e.txt1,this.btnTxt2.string=e.txt2,ge.addClick(this.btn1,function(){e.cb1&&e.cb1(),t.node.destroy()}),ge.addClick(this.btn2,function(){e.cb2&&e.cb2(),t.node.destroy()})}}),cc._RF.pop()},{}],lyPrizeWheel:[function(e,t,i){"use strict";cc._RF.push(t,"8ae73TPC9pFO7sYTRe7XHUV","lyPrizeWheel"),cc.Class({extends:cc.Component,properties:{btnBack:cc.Node,times:cc.Label,prizes:[cc.Label],prizeBg:cc.Node,prizePointer:cc.Sprite},init:function(){var e=this;this.handleWheeled(0),this.prizeNumbers=[];for(var t=0;t<this.prizes.length;t++)this.prizes[t]&&this.prizeNumbers.push(parseInt(this.prizes[t].string));ge.addClick(this.btnBack,function(){return e.node.destroy()}),ge.addClick(this.prizePointer.node,function(){return e.wheel()}),ge.addClick(this.node,function(){})},randf:function(e,t){return Math.random()*(t-e)+e},randi:function(e,t){return Math.floor(this.randf(e,t))},wheel:function(){var e=this;if(!gu.userInfo.prizeWheeled){var t=this.randi(0,this.prizes.length),i=this.randi(10,21),n=this.randf(-25,25),c=(i=360*i+60*t+n)/3600+1,s=cc.sequence(cc.rotateTo(c,i).easing(cc.easeCubicActionInOut()),cc.callFunc(function(){e.prizeBg.angle%=360,gu.userInfo.prizeWheeled=1,e.handleWheeled(e.prizeNumbers[t])}));this.prizeBg.runAction(s)}},handleWheeled:function(e){ge.setGray(this.prizePointer,gu.userInfo.prizeWheeled),this.times.string=gu.userInfo.prizeWheeled?"\u4eca\u65e5\u4ee5\u62bd\u5b8c\uff0c\u8bf7\u660e\u5929\u518d\u6765\u3002":"\u8bf7\u70b9\u51fb\u8f6c\u76d8\u53bb\u62bd\u5956",e&&ge.alert({title:"\u63d0\u793a",prize:e,btnOk:function(){}}),gu.save()}}),cc._RF.pop()},{}],lySkin:[function(e,t,i){"use strict";cc._RF.push(t,"0bdcejXJmxBIaG22CBU4F1y","lySkin"),cc.Class({extends:cc.Component,properties:{skins:[cc.SpriteFrame],btnBack:cc.Node,coins:cc.Label,skin:cc.ScrollView,content:cc.Node,pfItem:cc.Prefab},init:function(){var e=this;ge.EM.on("GlobalUpdateCoins",this),ge.addClick(this.btnBack,function(){return e.node.destroy()}),this.onGlobalUpdateCoins();for(var t=[],i=0;i<this.skins.length;i++)t.push({chosen:i==gu.userInfo.themes.selected,icon:this.skins[i],locked:!gu.userInfo.themes.list[i],idx:i,chose:this.chose,content:this.content});ge.listView({scrollview:this.skin,content:this.content,itemTpl:cc.instantiate(this.pfItem),gapX:10,gapY:10,col:3}).setItems(t)},onGlobalUpdateCoins:function(){this.coins.string=gu.addCoins()},onDestroy:function(){ge.EM.off("GlobalUpdateCoins",this)},chose:function(e){gu.userInfo.themes.selected=e,gu.save();for(var t=0;t<this.content.children.length;t++)ge.getJs(this.content.children[t]).chose(t==e)}}),cc._RF.pop()},{}],pfItem2:[function(e,t,i){"use strict";cc._RF.push(t,"093f6EbrKJPdoeHEBzJIbmv","pfItem2"),cc.Class({extends:cc.Component,properties:{img:cc.Sprite,lbNum:cc.Label},init:function(e){var t=this;e=e||{},this.atlas=ge.itemsAtlas,e.atlas&&(this.atlas=e.atlas),this.setId(e.id),this.setNum(e.num),this.setEnough(e.isEnough),e.cb?(this.cb=e.cb,ge.addClick(this.node,function(){t.cb(t)})):e.showTips&&ge.addClick(this.node,function(){ge.openLayer("lyTips",{id:t.id,target:t.node})})},setId:function(e){this.id=e,this.img.spriteFrame=this.atlas.getSpriteFrame(e)},setType:function(e){this.id=e,this.img.spriteFrame=this.atlas.getSpriteFrame(e)},setNum:function(e){this.num=e,this.lbNum.string=this.num||""},setSel:function(e){this.isSel=!!e,this.sel.active=e},setEnough:function(e){this.lbNum.node.color=e?cc.color(0,255,0):cc.color(255,0,0)}}),cc._RF.pop()},{}],pfItem:[function(e,t,i){"use strict";cc._RF.push(t,"c6a8eRYGotMW41+13DyikO/","pfItem"),cc.Class({extends:cc.Component,properties:{isChosen:cc.Node,skin:cc.Node,icon:cc.Sprite,locked:cc.Node},init:function(e){var t=this;return this.icon.spriteFrame=e.icon,this.locked.active=e.locked,this.skin.active=!e.locked,this.chose(e.chosen),ge.addClick(this.node,function(){if(e.locked){if(e.locked){if(gu.addCoins()<100)return void ge.alert({content:"\u91d1\u5e01\u4e0d\u8db3",title:"\u63d0\u793a",btnBack:function(){}});ge.alert({content:"\u786e\u8ba4\u8981\u4e70\u6b64\u76ae\u80a4\u5417\uff1f",title:"\u63d0\u793a",btnBack:function(){},btnNext:function(){gu.addCoins(-100),gu.userInfo.themes.list[e.idx]=!0,e.locked=!1,t.locked.active=!1,t.skin.active=!0,e.chose(e.idx)}})}}else e.chose(e.idx)}),this},chose:function(e){this.isChosen.active=e}}),cc._RF.pop()},{}]},{},["lyFightEnd","lyPrizeWheel","lySkin","pfItem","pfItem2"]);